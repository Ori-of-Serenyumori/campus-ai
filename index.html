<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>校园AI文案助手</title>
</head>
<body>
    <h1>校园AI文案助手</h1>
    <input type="text" id="question" placeholder="输入你想生成的文案" style="width: 300px;">
    <button onclick="askBot()">发送</button>
    <div id="result" style="margin-top: 20px; white-space: pre-wrap;"></div>

    <script>
        async function askBot() {
            const question = document.getElementById("question").value;
            const resultDiv = document.getElementById("result");
            resultDiv.innerText = "正在思考中...";

            // ========== 你只需要改这 3 个地方 ==========
            const PAT = "pat_QT1ymZ6PHjM4Yr91WoigvtkXrGAgAYfIPhfHFc3bBGgkc53g7Mla0kALrdF7TOrR";
            const BOT_ID = "campus-ai";
            const USER_ID = "test_user_001";
            // ==========================================

            try {
                const response = await fetch("https://api.coze.cn/v3/chat", {
                    method: "POST",
                    headers: {
                        "Authorization": "Bearer " + PAT,
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({
                        bot_id: BOT_ID,
                        user_id: USER_ID,
                        stream: false,
                        messages: [{
                            role: "user",
                            content: question
                        }]
                    })
                });

                const data = await response.json();
                if (data.code === 0) {
                    resultDiv.innerText = data.messages[0].content;
                } else {
                    resultDiv.innerText = "出错：" + data.msg;
                }
            } catch (e) {
                resultDiv.innerText = "请求失败：" + e.toString();
            }
        }
    </script>
</body>

</html>
